---
const { height = "10rem", animate = false } = Astro.props;
---

<hr style={`height: ${height};`} class:list={[{animate}]} />

<style>
    @keyframes expand {
        /* start with shrinked line */
        0% {
            transform-origin: 50% 0%;
            transform: scaleY(0.02);
        }
        /* expand to full height */
        48% {
            transform-origin: 50% 0%;
            transform: scaleY(1);
        }
        /* change origin to bottom */
        52% {
            transform-origin: 50% 100%;
            transform: scaleY(1);
        }
        /* shrink again, but from bottom */
        80% {
            transform-origin: 50% 100%;
            transform: scaleY(0.02);
        }
        /* reset origin to top while it is shrinked */
        to {
            transform-origin: 50% 0%;
            transform: scaleY(0.02);
        }
    }

    hr {
        /* vertical */
        width: var(--line-width);
        border: none;
        background-color: var(--text-color);
        margin: 2rem auto;
    }

    hr.animate {
        animation: expand 3s infinite ease-in-out;
    }
</style>